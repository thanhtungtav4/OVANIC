"use strict";jQuery(document).ready(function(s){jQuery.fn.putCursorAtEnd=function(){return this.each(function(){var e,o=s(this),t=this;o.is(":focus")||o.focus(),t.setSelectionRange?(e=2*o.val().length,setTimeout(function(){t.setSelectionRange(e,e)},1)):o.val(o.val()),this.scrollTop=999999})},s.faq_woocommerce={ajax_url:"",init:function(){this.ajax_url=ffw_admin.ajaxurl;var e,o=s("#ffw-popup-form-wrapper .ffw-modal-frame");"product"===ffw_admin.current_post_type&&"edit"===ffw_admin.current_page_action&&((e=s(".ffw_search")).select2({placeholder:"Select a faq post",allowClear:!0,minimumResultsForSearch:1/0}),e.on("select2:select",function(e){console.log("hello puishak");var o=s("#ffw_product_page_id").val(),t=ffw_admin.nonce,a=s(this).val(),f=s("#ffw_products").val(),f=JSON.parse(f);s("#ffw_product_data .ffw-product-loader").addClass("ffw-visible"),wp.ajax.post("ffw_insert_data_from_search",{nonce:t,faq_insert_search_data:{product_id:o,new_item_id:a,product_faqs:f}}).then(function(e){console.log("success......."),console.log(e.message),console.log(e.updated_data),s("#ffw_products").val(JSON.stringify(e.updated_data)),s(".ffw-body").html(e.faq_body),s("#ffw_product_data .ffw-product-loader").removeClass("ffw-visible"),s.faq_woocommerce.ffw_sorting_data()}).fail(function(e){console.log("erorr......."),console.log(e),s("#ffw_product_data .ffw-product-loader").removeClass("ffw-visible")})}),s(".ffw-sortable").sortable({axis:"y",update:function(e,o){var t=s(this).sortable("serialize");console.log(t)}})),ffw_admin.current_page_action&&console.log(ffw_admin.current_page_action),s(".ffw-role-select").select2({placeholder:"Select Roles",allowClear:!0}),s(document).on("click","#ffw-product-form-header .ffw-add-new",this.openPopupForm),s(document).on("click",'#ffw-popup-form-wrapper .ffw-modal-close, #ffw-popup-form-wrapper input[type="button"]',this.closePopupForm),o.bind("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(e){o.hasClass("state-leave")&&o.removeClass("state-leave")}),s(".ffw_question_text_color").wpColorPicker(),s(".ffw_question_bg_color").wpColorPicker(),s(".ffw_question_bg_secondary_color").wpColorPicker(),s(".ffw_question_border_color").wpColorPicker(),s(".ffw_answer_text_color").wpColorPicker(),s(".ffw_answer_bg_color").wpColorPicker(),s(".ffw_answer_border_color").wpColorPicker(),s(".ffw-comments-date-time-color").wpColorPicker(),s(".ffw-comments-content-color").wpColorPicker(),s(".ffw-comments-author-name-color").wpColorPicker(),s(".ffw-comments-submit-button-text-color").wpColorPicker(),s(".ffw-comments-reply-button-text-color").wpColorPicker(),s(".ffw-comments-submit-button-bg-color").wpColorPicker(),s(".ffw-comments-form-border-color").wpColorPicker(),s(".ffw-comments-form-title-color").wpColorPicker(),s(".ffw-comments-reply-form-title-color").wpColorPicker(),s(".ffw-comments-reply-form-submit-button-color").wpColorPicker(),s(".ffw-comments-reply-form-submit-button-bg-color").wpColorPicker(),s(".ffw-comments-reply-form-border-color").wpColorPicker(),s(".ffw-comments-reply-form-submit-button-text-color").wpColorPicker(),s(document).on("click","#ffw_product_data .ffw-metabox h3",this.toggleOptionMetabox),s(document).on("click","#ffw_modal_submit",this.submitModalForm),s(document).on("click","#ffw-delete-all-faq",this.deleteAllFaq),s(document).on("click","#ffw-product-form-header .ffw-single-delete-btn",this.deleteSingleFaq),s(document).on("click","#ffw-product-form-header .ffw-single-edit-btn",this.openUpdatePopupForm),s(document).on("click",".ffw-layout-select",this.changePreviewImage),s(document).on("change",".ffw_question_font_size",this.changeQuestionRange),s(document).on("change",".ffw_answer_font_size",this.changeAnswerRange),this.ffw_sorting_data()},openPopupForm:function(e){e.preventDefault(),s("#ffw_modal_submit").show(),s("#ffw_modal_update").hide();e=s(".ffw-modal-frame");s(".modal-overlay").addClass("state-show"),e.removeClass("state-leave").addClass("state-appear"),setTimeout(function(){s("#ffw-popup-form-wrapper .ffw-popup-form-add-question").focus()},500),s("#ffw-popup-form-wrapper .ffw-popup-form-add-question").val(""),jQuery("#wp-ffw_popup_answer-wrap").hasClass("tmce-active")&&tinymce.get("ffw_popup_answer").setContent("")},closePopupForm:function(e){e.preventDefault();e=s(".ffw-modal-frame");s(".modal-overlay").removeClass("state-show"),e.removeClass("state-appear").addClass("state-leave")},toggleOptionMetabox:function(e){e.preventDefault(),s(this).parent(".ffw-metabox").toggleClass("closed").toggleClass("open"),s(event.target).filter(":input, .ffw-sort, .ffw-handle-item").length||s(this).next(".ffw-metabox-content").stop().slideToggle()},submitModalForm:function(e){e.preventDefault(),s(".ffw-modal-frame").removeClass("state-appear"),s(".modal-overlay ").removeClass("state-show"),s("#ffw_product_data .ffw-product-loader").addClass("ffw-visible");var e=s("#ffw-popup-form-wrapper .ffw-popup-form-add-question"),o="",t=(jQuery("#wp-ffw_popup_answer-wrap").hasClass("tmce-active")&&(o=tinyMCE.activeEditor.getContent()),s("#ffw_product_page_id").val()),a=s("#ffw_products").val(),a=JSON.parse(a),f=ffw_admin.nonce,e=e.val();wp.ajax.post("ffw_insert_new_faq",{nonce:f,faq_data:{question:e,answer:o,product_id:t,faq_list:a}}).then(function(e){console.log("success......."),console.log(e.message),s("#ffw_products").val(JSON.stringify(e.faq_data)),s(".ffw-body").html(e.faq),s(".ffw-popup-form-add-question").val(""),s(".ffw-popup-form-add-answer").val(""),s("#ffw_product_data .ffw-product-loader").removeClass("ffw-visible"),s.faq_woocommerce.ffw_sorting_data()}).fail(function(e){console.log("erorr......."),console.log(e),s.faq_woocommerce.ffw_sorting_data()})},deleteAllFaq:function(e){e.preventDefault();var e=s("#ffw_product_page_id").val(),o=s("#ffw_products").val(),o=JSON.parse(o),t=ffw_admin.nonce,a=(void 0!==o&&0!==o.length||console.log(o),{product_id:e});Swal.fire({title:"Delete all the faqs?",icon:"question",showCancelButton:!0}).then(function(e){e.isConfirmed&&wp.ajax.post("ffw_delete_all_faqs",{nonce:t,faq_delete_data:a}).then(function(e){console.log("success......."),console.log(e.success),e.success&&(s(".ffw-metabox-item").hide(),Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:"success",title:"Delete successfull."}))}).fail(function(e){console.log("erorr of delete faq......."),console.log(e)})})},deleteSingleFaq:function(e){e.preventDefault(),e.stopPropagation();var o=s("#ffw_product_page_id").val(),t=s("#ffw_products").val(),t=JSON.parse(t),a=ffw_admin.nonce,f=s(this).parents(".ffw-metabox-item"),r=s(this).attr("rel");Swal.fire({title:"Are you sure to Delete?",icon:"question",showCancelButton:!0}).then(function(e){e.isConfirmed&&(-1<(e=t.indexOf(r))&&t.splice(e,1),e={product_id:o,updated_faq_list:t},f.hide(),wp.ajax.post("ffw_delete_single_faq",{nonce:a,faq_updated_data:e}).then(function(e){console.log("success......."),console.log(e),console.log(JSON.stringify(e.update_faq_list)),s("#ffw_products").val(JSON.stringify(e.update_faq_list))}).fail(function(e){console.log("erorr of delete faq......."),console.log(e)}))})},openUpdatePopupForm:function(e){e.preventDefault(),e.stopPropagation(),s("#ffw_modal_submit").hide(),s("#ffw_modal_update").show();var e=s(".ffw-modal-frame"),e=(s(".modal-overlay").addClass("state-show"),e.removeClass("state-leave").addClass("state-appear"),s(this).attr("rel")),e=(s("#ffw-current-ques-id").val(e),s(this).parent("h3").find("strong").html()),o=s(this).parents(".ffw-metabox-item").find(".ffw-metabox-content .data div").html();s("#ffw-popup-form-wrapper .ffw-popup-form-add-question").val(e),setTimeout(function(){s("#ffw-popup-form-wrapper .ffw-popup-form-add-question").focus().putCursorAtEnd()},500),jQuery("#wp-ffw_popup_answer-wrap").hasClass("tmce-active")&&tinymce.get("ffw_popup_answer").setContent(o)},changePreviewImage:function(e){var o=s(this).val();s(".ffw-setting-layout img").each(function(e){s(this).data("layout")===parseInt(o)?s(this).removeClass("ffw-hide").addClass("ffw-visible"):s(this).removeClass("ffw-visible").addClass("ffw-hide")})},changeQuestionRange:function(e){var o=s(this).val();s(".ffw_question_font_size_label").text(o+"px")},changeAnswerRange:function(e){var o=s(this).val();s(".ffw_answer_font_size_label").text(o+"px")},ffw_sorting_data:function(e){s(".ffw-sortable").sortable({cursor:"move",axis:"y",handle:".ffw-sort-icon",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,stop:function(){var e=[];s(".ffw-sortable .ffw-metabox-item").each(function(){e.push(s(this).attr("id"))}),s.faq_woocommerce.ffw_sortable(e)}})},ffw_sortable:function(o){var e=s("#ffw_product_page_id").val(),t=ffw_admin.nonce;wp.ajax.post("ffw_sort_faq_data",{nonce:t,faq_sorted_data:{product_id:e,faq_sorted_list:o}}).then(function(e){console.log("success......."),console.log(e.message),s("#ffw_products").val(JSON.stringify(o))}).fail(function(e){console.log("erorr......."),console.log(e)})}},s.faq_woocommerce.init()});
//# sourceMappingURL=faq-woocommerce-admin.min.js.map
